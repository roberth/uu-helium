SEM MaybeName [ | | isNothing : Bool name : { Maybe Name } ]
    | Nothing             lhs.isNothing = True
                          lhs.name      = Nothing
    | Just                lhs.isNothing = False
                          lhs.name      = Just @name.self
    --  name                     : Name
    
SEM MaybeNames [ | | names : { Maybe [Name] } ]
    | Nothing             lhs.names = Nothing
    | Just                lhs.names = Just @names.names
    --  name                     : Name

ATTR Names [ | | names : {[Name]} ]

SEM Names
    | Cons     lhs.names = @hd.self : @tl.names
    | Nil      lhs.names = []

{-

SEM MaybeName [ | | isNothing : Bool  id : { Maybe Id } ]
    | Nothing             lhs.id        = Nothing
                          lhs.isNothing = True
    | Just                lhs.id        = Just @name.id
                          lhs.isNothing = False

SEM MaybeNames [ | | ids : { Maybe [Id] } ]
    | Nothing             lhs.ids = Nothing
    | Just                lhs.ids = Just @names.ids
    --  name                     : Name

ATTR Names [ | | ids : {[Id]} ]

SEM Names
    | Cons     lhs.ids = @hd.id : @tl.ids
    | Nil      lhs.ids = []

SEM Name [ | | id : Id ]
    | Identifier               lhs.id = idFromString @name
    --  range                    : Range
    --  module                   : Strings
    --  name                     : String

    | Operator                 lhs.id = idFromString @name
    --  range                    : Range
    --  module                   : Strings
    --  name                     : String

    | Special                  lhs.id = idFromString @name
    --  range                    : Range
    --  module                   : Strings
    --  name                     : String

-}

ATTR FunctionBinding FunctionBindings LeftHandSide [ | | name:Name ]

SEM FunctionBindings 
  | Cons  lhs . name = @hd.name
  | Nil   lhs . name = internalError "ToCoreName.ag" "n/a" "empty FunctionBindings"

SEM LeftHandSide
  | Function  lhs . name = @name.self
  | Infix     lhs . name = @operator.self
